$(document).ready(function(){$.event.props=$.event.props.join("|").replace("layerX|layerY|","").split("|");global.myIframeObj=$("#myIframe");$(".category").click(function(){console.time("category click");var a=$(this);var b=a.attr("id");if(!a.hasClass("category-selected")){$(".category").removeClass("slideDown category-selected");a.addClass("slideDown category-selected");$(".app_group").slideUp();a.next().slideDown();if(b=="phoneApp"){showPhoneApp()}else{if(b=="vivoApp"){showVivoStore()}else{showThirdStore();$("#baiduyingyong").mousedown()}}}else{a.hasClass("slideDown")?a.removeClass("slideDown"):a.addClass("slideDown");a.next().slideToggle()}console.timeEnd("category click")});$("#thirdAppList").find(".category-list").mousedown(function(){var b=$(this);var e=b.attr("id");global.thirdPageId=e;var a=e+"Div";e=e+"Iframe";$("#thirdAppList").find(".category-list").removeClass("category-list-click");b.addClass("category-list-click");$(".category").css("background-position-y","0px");var c=document.getElementById(e);var d=b.attr("src");if(c==null){$("#thirdStore").append('<div id="'+a+'" class="thirdStore"><iframe id="'+e+'" src="'+d+'" onload="getDress(\''+global.thirdPageId+"');\"></iframe></div>");$("#thirdStoreLoading").show();$.ajax({type:"get",url:d,data:"",dataType:"html",beforeSend:function(){},success:function(f){$("#thirdStoreLoading").hide()},error:function(){$("#thirdStoreLoading").hide()}})}showThirdStoreIframe(a)});$("#phoneAppList").find(".category-list").mousedown(function(){var a=$(this);global.bPhoneSearch="0";if(a.hasClass("category-list-click")){return}$("#phoneAppList").find(".category-list").removeClass("category-list-click");a.addClass("category-list-click");$(".category").css("background-position-y","0px");if(a.attr("id")=="alreadyInstall"){if(global.phoneAppID!="alreadyInstall"){document.getElementById("loadding").style.display="block";global.phoneAppID="alreadyInstall";var d=global.curInstalledMod;console.log("index "+d);$(".sortByDesc").removeClass("sortByDesc");$(".sortByAsce").removeClass("sortByAsce");if(!(d==global.Mod.defaultMod)){var b=d.substring(d.length-4,d.length);var c=".tittle"+d.substring(0,1).toUpperCase()+d.substring(1,d.length-4);$(c).addClass("sortBy"+b)}getPhoneApp()}}else{if(a.attr("id")=="canUpdateApp"){if(global.phoneAppID!="canUpdateApp"){document.getElementById("loadding").style.display="block";global.phoneAppID="canUpdateApp";var d=global.curUpdateMod;console.log("index "+d);$(".sortByDesc").removeClass("sortByDesc");$(".sortByAsce").removeClass("sortByAsce");if(!(d==global.Mod.defaultMod)){var b=d.substring(d.length-4,d.length);var c=".tittle"+d.substring(0,1).toUpperCase()+d.substring(1,d.length-4);$(c).addClass("sortBy"+b)}getPhoneApp()}}}global.bPhoneSearch="0"});$(".close").mouseup(function(){$("#installAppPop").hide()});$(".submitButton").hover(function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","-28px")},function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","0px")}).mousedown(function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","-56px")}).mouseup(function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","0px");var a=$(this).text();if(a=="取消"){$("#installAppPop").hide()}else{}});$("#addFloder").hover(function(){$(this).parent().css("background-position-y","-28px")},function(){$(this).parent().css("background-position-y","0px")}).mousedown(function(){$(this).parent().css("background-position-y","-56px")}).mouseup(function(){$(this).parent().css("background-position-y","0px")});$("#addFile").hover(function(){$(this).parent().css("background-position-y","-84px")},function(){$(this).parent().css("background-position-y","0px")}).mousedown(function(){$(this).parent().css("background-position-y","-112px")}).mouseup(function(){$(this).parent().css("background-position-y","0px")});$("#toPhone").hover(function(){$(this).addClass("toPhoneOn")},function(){$(this).removeClass("toPhoneOn")}).click(function(){$(this).removeClass("toPhoneOn");$("#toSD").removeClass("toWhereOn");$(this).addClass("toWhereOn");$("#installList").find(".switch").removeClass("sd").text("系统空间");$("#installList").find("li").attr("loc","1");checkPos();checkSpace()});$("#toSD").hover(function(){$(this).addClass("toSDOn")},function(){$(this).removeClass("toSDOn")}).click(function(){$(this).removeClass("toSDOn");$("#toPhone").removeClass("toWhereOn");$(this).addClass("toWhereOn");$("#installList").find(".switch").addClass("sd").text("SD卡");$("#installList").find("li").attr("loc","2");checkPos();checkSpace()});$("#noPromptAgain").hover(function(){$(this).addClass("noPromptAgainHover")},function(){$(this).removeClass("noPromptAgainHover")}).click(function(){if($(this).hasClass("noPromptAgainOn")){$(this).removeClass("noPromptAgainOn")}else{$(this).addClass("noPromptAgainOn")}});global.searchInstalledObj=$("#searchInstalled");global.searchInstalledObj.focus(function(){global.searchTxt=global.searchInstalledObj.val();global.intervalObj=setInterval(searchInstalledHandle,300)}).blur(function(){clearInterval(global.intervalObj)})});window.onload=function(){if($("#phoneNeedAppPop").css("display")=="none"){judePhoneNeed()}};document.oncontextmenu=new Function("return false;");function myfocus(){if(document.activeElement.id!="appSearch"){document.getElementById("myIframe").focus()}}function getDress(c){var b=c+"Loading";c=c+"Iframe";_obj=frames[c].document.getElementsByTagName("HTML");var a=_obj[0].innerText;a=a.substr(0,5);if(a=="Error"||a=="Not F"){frames[c].document.write('<div style="font-family: 微软雅黑,Verdana,sans-serif,宋体;text-align:center;line-height:400px;color:#666;">页面加载失败，请尝试点击 <a href="javascript:parent.refreshThird()">刷新<a> 重试</div>');document.getElementById(b).style.display="none"}}document.onkeydown=check;function check(b){var a;if(!b){var b=window.event}if(b.keyCode){a=b.keyCode}else{if(b.which){a=b.which}}if(((event.keyCode==8)&&((event.srcElement.type!="search"&&event.srcElement.type!="text"&&event.srcElement.type!="textarea"&&event.srcElement.type!="password")||event.srcElement.readOnly==true))||((event.ctrlKey)&&((event.keyCode==78)||(event.keyCode==82)))||(event.keyCode==116)){event.keyCode=0;event.returnValue=false}return true}var global={myIframeObj:"",cateId:"",phoneAppID:"alreadyInstall",cateName:"",count:0,param:"initIndex",bAds:false,refreshPage:"home/home.html",huiInfo:"",status:"",appId:"",appName:"",appIconUrl:"",appDev:"",packageName:"",downloadUrl:"",appVersion:"",cateImgObj:"",searchInstalledObj:"",searchTxt:"",intervalObj:"",bPhoneSearch:"0",arrayTopType:0,arrayType:3,page:1,hasSub:0,connectUSB:true,phoneNeedAppPop:0,thirdPageId:"jingpin",Mod:{defaultMod:"defaultMod",sizeDesc:"sizeDesc",sizeAsce:"sizeAsce",newsizeDesc:"newsizeDesc",newsizeAsce:"newsizeAsce",installlocDesc:"installlocDesc",installlocAsce:"installlocAsce"},installedAppCsJson:new Array(),updateAppCsJson:new Array()};global.curInstalledMod=global.Mod.defaultMod;global.curUpdateMod=global.Mod.defaultMod;function connectSuccess(a){if(a=="1"){global.connectUSB=true;$("#installAppPop").hide();$("#prompt").hide()}else{global.connectUSB=false}refreshing();getPhoneApp()}function onConnectedBtnState(a){if(a=="1"){$("#installApp").removeClass("disable");$("#refreshApp").removeClass("disable")}else{$("#installApp").addClass("disable");$("#refreshApp").addClass("disable")}}function homePageThird(){$(".category-list").removeClass("category-list-click");if(global.thirdPageId!="thirdHomePage"){showThirdStore();$("#thirdStore").find(".thirdStore").hide();var b=document.getElementById("iframeLoading");if(b!=null){b.style.display="none"}var a=document.getElementById("thirdHomePage");if(a!=null){a.style.display="block"}global.thirdPageId="thirdHomePage"}}function loads(a){alert(a.readystate);if(a.readystate=="complete"){alert("local iframe is now loaded.")}}function refreshThird(){var d=global.thirdPageId+"Iframe";$("#thirdStoreLoading").show();frames[d].document.close();frames[d].document.write("");var a=global.thirdPageId+"Loading";var b=$("#"+d);var c=b.attr("src");b.attr("src",c);$("#"+d).ready(function(){setTimeout(function(){$("#thirdStoreLoading").hide()},1000)})}function thirdGoBack(a){if($(a).hasClass("disable")){return}if(global.thirdPageId!="thirdHomePage"){var b=global.thirdPageId+"Iframe";document.getElementById(b).contentWindow.history.back()}}function thirdGoForward(a){if($(a).hasClass("disable")){return}if(global.thirdPageId!="thirdHomePage"){var b=global.thirdPageId+"Iframe";document.getElementById(b).contentWindow.history.forward()}}function homePage(){showVivoStore();if(global.refreshPage!="home/home.html"){document.getElementById("appSearch").value="";global.refreshPage="home/home.html";global.myIframeObj.attr("src",global.refreshPage);addHistoryEvent()}global.param="initIndex"}function goBack(a){if($(a).hasClass("disable")){return}cef.appStore("goBack")}function goForward(a){if($(a).hasClass("disable")){return}cef.appStore("goForward")}function checkBackAndForward(a){if(a=="01"){$("#goBack").addClass("disable");$("#goForward").removeClass("disable")}else{if(a=="10"){$("#goBack").removeClass("disable");$("#goForward").addClass("disable")}else{if(a=="11"){$("#goBack").removeClass("disable");$("#goForward").removeClass("disable")}else{if(a=="00"){$("#goBack").addClass("disable");$("#goForward").addClass("disable")}}}}}function refresh(){document.getElementById("bubble_message").innerHTML='<div class="bubble_text"><div class="refresh" ></div>正在刷新,请稍候！</div>';$("#bubble").show();if(global.refreshPage=="home/home.html"){global.param="refresh"}if(global.param!="refresh"&&global.param!="initIndex"){cef.appStore("removeCacheFile")}global.myIframeObj.attr("src",global.refreshPage)}function searchApp(b){if(event.keyCode==13){var a=b.value;a=a.replace(/(^\s+)|(\s+$)/g,"");if(a==""){return}global.param="";$("#vivoAppList").find("li").removeClass("category-list-click");global.searchTxt=a;global.page=1;global.cateName="搜索";global.cateId="search";global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);addHistoryEvent()}}function searchAppFromOutside(a){if(a==""){return}global.param="";$("#vivoAppList").find("li").removeClass("category-list-click");global.searchTxt=a;global.page=1;global.cateName="搜索";global.cateId="search";global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);addHistoryEvent()}function changePos(a){if(a.innerText=="系统空间"){a.innerText="SD卡";a.className="switch sd";$(a).parent().parent().attr("loc","2")}else{a.innerText="系统空间";a.className="switch";$(a).parent().parent().attr("loc","1")}checkPos();checkSpace()}function removeSel(b){$(b).parent().parent().remove();var a=document.getElementById("installList").innerHTML;if(a==""){document.getElementById("sureInstallLocApk").className="submitButton disable"}else{document.getElementById("sureInstallLocApk").className="submitButton"}checkPos();checkSpace()}function checkPos(){var c=$("#installList").find(".sd").length;var b=$("#installList").find(".switch").length;var a=b-c;if(c==0&&b!=0){$("#toSD").removeClass("toWhereOn");$("#toPhone").addClass("toWhereOn")}else{if(b==0){$("#toSD").removeClass("toWhereOn");$("#toPhone").removeClass("toWhereOn")}else{if(c!=b){$("#toSD").removeClass("toWhereOn");$("#toPhone").removeClass("toWhereOn")}else{if(c==b){$("#toPhone").removeClass("toWhereOn");$("#toSD").addClass("toWhereOn")}}}}document.getElementById("allLocApkNum").innerText=b;document.getElementById("toPhoneNum").innerText=a;document.getElementById("toSdNum").innerText=c}function setCategory(a){var e=$("#vivoAppList");e.empty();var d;var c;if(a!=""&&a!=null){for(var b=0;b<a.length;b++){d=a[b]["titleCN"];e.append('<li id="'+a[b]["id"]+'" class="category-list" sub="'+a[b]["hasSubcate"]+'" count="'+a[b]["count"]+'">            <div class="listIconName">'+a[b]["titleCN"]+"</div>            </li>")}addCategoryEvent(e)}}function setRecommend(a){myIframe.window.setRecommend(a);$("#bubble").hide()}function setIndexTocpic(a){needIframe.window.setIndexTocpic(a);myIframe.window.setIndexTocpic(a)}function setTocpicList(a){myIframe.window.setTocpicList(a);$("#bubble").hide()}function setTop10App(a){myIframe.window.setTop10App(a)}function setTopGameApp(a){myIframe.window.setAllTop10App(a);document.getElementById("bubble").style.display="none"}function setTopPopularApp(a){myIframe.window.setAllTop10App(a);document.getElementById("bubble").style.display="none"}function setWeekTop10App(a){myIframe.window.setWeekTop10App(a)}function setGameTop10App(a){myIframe.window.setGameTop10App(a)}function setAllApp(a){myIframe.window.setAllApp(a);$("#bubble").hide()}function setPhoneTuijian(a){myIframe.window.setPhoneTuijian(a);$("#bubble").hide()}function addCategoryEvent(a){a=a.find(".category-list");a.unbind("mouseup").unbind("mousedown").mousedown(function(){document.getElementById("appSearch").value="";global.page=1;global.arrayType=3;var b=$(this);if(b.hasClass("category-list-click")){return}a.removeClass("category-list-click");b.addClass("category-list-click");$(".category").css("background-position-y","0px");global.refreshPage="category/category.html";global.cateId=b.attr("id");global.myIframeObj.attr("src",global.refreshPage);global.cateName=b.find(".listIconName").text();global.count=b.attr("count");global.hasSub=b.attr("sub");global.param="";addHistoryEvent()});$("#bubble").hide()}function iframeGetCategoryApp(){getArrayAppList(global.arrayType,global.hasSub,global.page)}function iframeGetAdsApp(){if(parseInt(global.count,10)==1){cef.param=global.appId+"";cef.appStore("getAppDetail")}else{cef.param='[{"adsId":"'+global.appId+'" , "size":"16" , "pageIndex":"'+global.page+'","type":"2"}]';cef.appStore("getAdsApp")}}function iframeRefresh(){cef.appStore("refresh")}function iframeInitIndex(){cef.appStore("initIndex")}function iframeGetDetail(){cef.param='[{"appId":"'+global.appId+'","packageName":""}]';cef.appStore("getAppDetail")}function iframeGetRecommend(){cef.param=global.page+"";cef.appStore("getRecommend")}function iframeGetAllApp(){cef.param='[{"pageIndex":"'+global.page+'","type":"'+global.arrayType+'"}]';cef.appStore("getAllApp")}function iframeGetSearch(){cef.param='[{"pageIndex":"'+global.page+'","keyWord":"'+global.searchTxt+'"}]';cef.appStore("getSearchApp")}function iframeGetAllTop10(){cef.param=global.page+"";cef.appStore("getAllTop10")}function iframeGetAllGameTop(){cef.param=global.page+"";cef.appStore("getAllTopGame")}function iframeGetAllPopularTop(){cef.param=global.page+"";cef.appStore("getAllTopPopular")}function iframeGetHuiApp(){cef.param='[{"key":"'+global.appId+'" , "pageIndex":"'+global.page+'" ,"type":"'+global.arrayType+'"}]';cef.appStore("getHuiApp")}function iframeGetTopicApp(){cef.param='[{"key":"'+global.appId+'" , "pageIndex":"'+global.page+'" ,"type":"'+global.arrayType+'"}]';cef.appStore("getTopicApp")}function setCateApp(a){myIframe.window.setCateApp(a);$("#bubble").hide()}function setAppDetail(a){document.getElementById("bubble").style.display="none";myIframe.window.setAppDetail(a)}function setAppDetailTop10(a){myIframe.window.setAppDetailTop10(a)}function setSubCate(a){myIframe.window.setSubCate(a)}function setAds(a){myIframe.window.setAds(a)}function getAppDetail(a){global.appId=a}function getDiscuss(a){cef.param='[{"pageIndex":"'+a+'","appId":"'+global.appId+'"}]';cef.appStore("getDiscuss")}function setDiscuss(a){myIframe.window.setDiscuss(a)}function submitDiscuss(a,b){cef.param='[{"txt":"'+a+'","score":"'+b+'","appId":"'+global.appId+'"}]';cef.appStore("submitDiscuss")}function submitDiscussSuccess(a){myIframe.window.submitDiscussSuccess(a)}function setAllTop10App(a){myIframe.window.setAllTop10App(a);document.getElementById("bubble").style.display="none"}function upDateGoBack(){cef.appStore("upDateGoBack")}function getAllRecommend(b,a){global.param="";global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="推荐应用";global.cateId="recommend";global.count=a;cef.param=b+"";cef.appStore("getRecommend")}function getAllApp(b,a){global.param="";global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="热门应用";global.cateId="all";global.count=a;cef.param='[{"pageIndex":"'+b+'","type":"1"}]';cef.appStore("getAllApp")}function getRecommendLink(a){global.param="";global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="推荐应用";global.cateId="recommend";global.count=a;addHistoryEvent()}function getAllAppLink(a){global.param="";global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="所有应用";global.cateId="all";global.count=a;addHistoryEvent()}function getAllTop10(){global.param="";global.cateId="top10";global.cateName="应用榜";global.param="0";global.refreshPage="top10/top10.html";global.myIframeObj.attr("src",global.refreshPage);global.arrayTopType=0;addHistoryEvent()}function getAllTopGame(){global.param="";global.cateId="topGame";global.cateName="游戏榜";global.param="0";global.refreshPage="top10/top10.html";global.myIframeObj.attr("src",global.refreshPage);global.arrayTopType=0;global.page=1;addHistoryEvent()}function getAllTopPopular(){global.param="";global.cateId="topPopular";global.cateName="流行榜";global.param="0";global.refreshPage="top10/top10.html";global.myIframeObj.attr("src",global.refreshPage);global.arrayTopType=0;global.page=1;addHistoryEvent()}function getAllHui(){var a=document.getElementById("myIframe");global.refreshPage="hui/hui.html";$(a).attr("src",global.refreshPage);addHistoryEvent()}function getAllTopic(){var a=document.getElementById("myIframe");global.refreshPage="topic/topic.html";$(a).attr("src",global.refreshPage);addHistoryEvent()}function getNewApp(){var a=document.getElementById("myIframe");global.refreshPage="newapp/newapp.html";$(a).attr("src",global.refreshPage);addHistoryEvent()}function setNewAppList(a){myIframe.window.setNewAppList(a)}function getPhoneNeed(){document.getElementById("phoneNeedAppPop").style.display="block";cef.appStore("initPhoneNeed")}function getArrayAppList(b,a,c){if(global.cateId=="recommend"){cef.param=c+"";cef.appStore("getRecommend")}else{if(global.cateId=="all"){cef.param='[{"pageIndex":"'+c+'","type":"'+b+'"}]';cef.appStore("getAllApp")}else{if(global.cateId=="search"){cef.param='[{"pageIndex":"'+c+'","keyWord":"'+global.searchTxt+'"}]';cef.appStore("getSearchApp")}else{if(global.cateId=="ads"){cef.param='[{"adsId":"'+global.appId+'" , "size":"16" , "pageIndex":"'+c+'","type":"2"}]';cef.appStore("getAdsApp")}else{if(global.cateId=="top10"){cef.param=b+"";cef.appStore("getAllTop10")}else{if(global.cateId=="hui"){iframeGetHuiApp()}else{cef.param='[{"hasSubcate":"'+global.hasSub+'" ,"categoryId":"'+global.cateId+'" , "pageIndex":"'+c+'","type":"'+b+'"}]';cef.appStore("getCateApp")}}}}}}}function InstallOrUpdateSuccess(a){if(a!=""&&a!=null){needIframe.window.InstallOrUpdateSuccess(a[0]["status"],a[0]["packageName"]);myIframe.window.InstallOrUpdateSuccess(a[0]["status"],a[0]["packageName"]);changePhoneAppStatus(a[0]["status"],a[0]["packageName"])}}function iframeUninstallApp(a){var c=JSON.parse(a);var b='<div class=prompt_text><div class="refresh promptRefresh"></div>正在卸载手机应用（<span style="color:#0C7EC5;" id="progressNum">0</span> / <span>'+c.length+"</span>）</div>";$("#prompt_message").html(b);$("#prompt_close").hide();$("#yes").hide();$("#no").text("取消").show().unbind("click").click(function(){cef.appStore("stopUninstall");$("#prompt").hide()});$("#prompt").show();cef.param=a;cef.appStore("uninstallApp")}function iframeBackupApp(a){var b='<div class=prompt_text><div class="refresh promptRefresh"></div>正在备份手机应用（<span style="color:#0C7EC5;" id="progressNum">0</span> / <span>'+a.length+"</span>）</div>";$("#prompt_message").html(b);$("#prompt_close").hide();$("#yes").hide();$("#no").text("取消").show().unbind("click").click(function(){cef.appStore("stopBakcup");$("#prompt").hide()});$("#prompt").show();cef.param=JSON.stringify(a);cef.appStore("backupApp")}function uninstallAllDone(a){var b="";if(a=="0"){$("#prompt").hide()}else{if(a!=""&&a!=null){for(var c=0;c<a.length;c++){b+="<div>"+a[c]["name"]+"</div>"}b='<div class="failAppPrompt">以下应用卸载失败：</div>                <div class="failAppList">'+b+"</div>";$("#prompt_message").html(b);var d=$("#prompt").find(".prompt");d.css({height:"250px","margin-top":"-150px"});$("#yes").text("确定").show().unbind("click").click(function(){d.css({height:"150px","margin-top":"-100px"});$("#prompt").hide()});$("#no").hide()}}}function iframeMoveApp(csJson){var total=eval(csJson).length;var htm='<div class=prompt_text><div class="refresh promptRefresh"></div>正在移动手机应用(<span style="color:#0C7EC5;" id="progressNum">0</span> / <span>'+total+"</span>)</div>";$("#prompt_message").html(htm);var title=$("#prompt_title");title.text("移动");var promptObj=$("#prompt").find(".prompt");promptObj.css({height:"150px","margin-top":"-100px"});$("#prompt_close").hide();$("#yes").hide();$("#no").text("取消").show().unbind("click").click(function(){cef.appStore("stopMove");htm="<div class=prompt_text>正在取消,请稍后...</div>";$("#prompt_message").html(htm);$("#no").hide()});if(total<2){$("#no").hide()}$("#prompt").show();cef.param=csJson;cef.appStore("moveApp")}function moveAllDone(a){var b="";if(a=="0"){$("#prompt").hide()}else{if(a!=""&&a!=null){for(var c=0;c<a.length;c++){b+="<div>"+a[c]["name"]+"</div>"}b='<div class="failAppPrompt">以下应用移动失败：</div>                <div class="failAppList">'+b+"</div>";$("#prompt_message").html(b);var d=$("#prompt").find(".prompt");d.css({height:"250px","margin-top":"-150px"});$("#yes").text("确定").show().unbind("click").click(function(){d.css({height:"150px","margin-top":"-100px"});$("#prompt").hide()});$("#no").hide()}}}function setGoBackAndForward(a){if(a!=""&&a!=null){global.cateId=a[0]["cateId"];global.cateName=a[0]["cateName"];global.count=parseInt(a[0]["count"],10);global.param=a[0]["param"];global.bAds=parseInt(a[0]["bAds"],10);global.refreshPage=a[0]["refreshPage"];global.huiInfo=a[0]["huiInfo"];global.status=a[0]["status"];global.appId=a[0]["appId"];global.appName=a[0]["appName"];global.appIconUrl=a[0]["appIconUrl"];global.appDev=a[0]["appDev"];global.packageName=a[0]["packageName"];global.downloadUrl=a[0]["downloadUrl"];global.appVersion=a[0]["appVersion"];global.cateImgObj=a[0]["cateImgObj"];global.searchTxt=a[0]["searchTxt"];global.arrayTopType=a[0]["arrayTopType"];global.arrayType=parseInt(a[0]["arrayType"],10);global.page=parseInt(a[0]["page"],10);global.hasSub=parseInt(a[0]["hasSub"],10);var b=$("#vivoAppList").find(".category-list");if(global.searchTxt!=""&&global.cateName=="搜索"){document.getElementById("appSearch").value=global.searchTxt}else{document.getElementById("appSearch").value=""}b.removeClass("category-list-click");if(global.refreshPage=="category/category.html"){var c=$("#vivoAppList").find("#"+global.cateId);if(c.length>0&&!c.hasClass("category-list-click")){c.addClass("category-list-click")}}global.myIframeObj.attr("src",global.refreshPage)}}function addHistoryEvent(){cef.param='[{"cateId":"'+global.cateId+'" ,"cateName":"'+global.cateName+'",    "count":"'+global.count+'","param":"'+global.param+'",    "bAds":"'+global.bAds+'","refreshPage":"'+global.refreshPage+'",    "huiInfo":"'+global.huiInfo+'","status":"'+global.status+'",    "appId":"'+global.appId+'","appName":"'+global.appName+'",    "appIconUrl":"'+global.appIconUrl+'","appDev":"'+global.appDev+'",    "packageName":"'+global.packageName+'","downloadUrl":"'+global.downloadUrl+'",    "appVersion":"'+global.appVersion+'","cateImgObj":"'+global.cateImgObj+'",    "searchTxt":"'+global.searchTxt+'","arrayTopType":"'+global.arrayTopType+'",    "intervalObj":"'+global.intervalObj+'","arrayType":"'+global.arrayType+'",    "page":"'+global.page+'","hasSub":"'+global.hasSub+'"    }]';cef.appStore("addHistoryEvent")}function showThirdStore(){document.getElementById("vivoContent").style.display="none";document.getElementById("phoneManager").style.display="none";document.getElementById("thirdContent").style.display="block"}function showPhoneApp(){document.getElementById("vivoContent").style.display="none";document.getElementById("thirdContent").style.display="none";document.getElementById("phoneManager").style.display="block"}function showVivoStore(){document.getElementById("thirdContent").style.display="none";document.getElementById("phoneManager").style.display="none";document.getElementById("vivoContent").style.display="block"}function showThirdStoreIframe(a){$("#thirdStore").find(".thirdStore").css("display","none");document.getElementById(a).style.display="block"}function appDownloadPrompt(b){if(b!=""&&b!=null){var d=parseInt(b[0]["appNum"],10);var a=b[0]["appName"];if(d==1){a="应用 <span>"+a+"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;已经成功添加到下载任务中！"}else{a="共 <span>"+a+"</span>等，"+d+" 个应用<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;已经成功添加到下载任务中！"}document.getElementById("downloadName").innerHTML=a;var c=document.getElementById("downloadBubble")}else{document.getElementById("bubble_message").innerHTML='<div class="bubble_text"><div class="sorry" ></div>应用添加到下载任务失败！</div>';var c=document.getElementById("bubble");c.style.display="block";setTimeout(function(){c.style.display="none"},2000)}}function appDownload(csJson){if(typeof csJson=="string"){csJson=eval(csJson)}else{if(csJson.length==undefined){csJson=JSON.stringify(csJson);csJson="["+csJson+"]";csJson=eval(csJson)}}if(typeof csJson!="string"&&csJson!=""&&csJson!=null){var appNum=csJson.length;var appName=csJson[0]["appName"];if(appNum==1){appName="应用 <span>"+appName+"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;已经成功添加到下载任务中！"}else{appName="共 <span>"+appName+"</span>等，"+appNum+" 个应用<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;已经成功添加到下载任务中！"}document.getElementById("downloadName").innerHTML=appName;var obj=document.getElementById("downloadBubble");obj.style.display="block";setTimeout(function(){obj.style.display="none"},2000);for(var i=0;i<appNum;i++){if(i==0){csJson='{"packageName":"'+csJson[i]["package"]+'","downloadUrl":"'+csJson[i]["downloadUrl"]+'","appName":"'+csJson[i]["appName"]+'"}'}else{csJson+=',{"packageName":"'+csJson[i]["package"]+'","downloadUrl":"'+csJson[i]["downloadUrl"]+'","appName":"'+csJson[i]["appName"]+'"}'}}csJson="["+csJson+"]";cef.param=csJson;cef.appStore("downloadApp")}else{document.getElementById("bubble_message").innerHTML='<div class="bubble_text"><div class="sorry" ></div>应用添加到下载任务失败！</div>';var obj=document.getElementById("bubble");obj.style.display="block";setTimeout(function(){obj.style.display="none"},2000)}}function downloadApp(csJson){if(typeof csJson=="string"){csJson=eval(csJson)}else{if(csJson.length==undefined){csJson=JSON.stringify(csJson);csJson="["+csJson+"]";csJson=eval(csJson)}}if(typeof csJson!="string"&&csJson!=""&&csJson!=null){var appNum=csJson.length;var appName=csJson[0]["appName"];if(appNum==1){appName="应用 <span>"+appName+"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;已经成功添加到下载任务中！"}else{appName="共 <span>"+appName+"</span>等，"+appNum+" 个应用<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;已经成功添加到下载任务中！"}document.getElementById("downloadName").innerHTML=appName;var obj=document.getElementById("downloadBubble");obj.style.display="block";setTimeout(function(){obj.style.display="none"},2000);for(var i=0;i<appNum;i++){if(i==0){csJson='{"packageName":"'+csJson[i]["package"]+'","downloadUrl":"'+csJson[i]["downloadUrl"]+'","appName":"'+csJson[i]["appName"]+'"}'}else{csJson+=',{"packageName":"'+csJson[i]["package"]+'","downloadUrl":"'+csJson[i]["downloadUrl"]+'","appName":"'+csJson[i]["appName"]+'"}'}}csJson="["+csJson+"]";cef.param=csJson;cef.appStore("downloadApp")}else{document.getElementById("bubble_message").innerHTML='<div class="bubble_text"><div class="sorry" ></div>应用添加到下载任务失败！</div>';var obj=document.getElementById("bubble");obj.style.display="block";setTimeout(function(){obj.style.display="none"},2000)}}function visitThirdMarket(f,d){var b=$("#"+f);var a=f+"Div";global.thirdPageId=f;f=f+"Iframe";$(".category-list").removeClass("category-list-click");b.addClass("category-list-click");$(".category").css("background-position-y","0px");var c=document.getElementById(f);var e=d;if(c==null){$("#thirdStore").append('<div id="'+a+'" class="thirdStore"><iframe id="'+f+'" src="'+e+'"></div>');$("#thirdLoading").show();$.ajax({type:"get",url:e,data:"",dataType:"html",beforeSend:function(){},success:function(g){$("#thirdLoading").hide()},error:function(){frames[f].document.close();frames[f].document.write('<div style="text-align:center;line-height:400px;color:red;">页面加载失败，请尝试刷新该页面</div>');$("#thirdLoading").hide()}})}showThirdStoreIframe(a)}function closeGuide(a){a=a.parentNode.parentNode;a.style.display="none";a=$(a).next();if(a.hasClass("bubble-box")){a.show()}else{$("#guide").remove();cef.param="alreadyReadAppStore";cef.appStore("alreadyRead");judePhoneNeed()}}function showGuide(a){if(a=="1"){document.getElementById("guide").style.display="block"}else{$("#guide").remove()}}function showPhoneNeed(a){if(a=="1"&&($("#guide").css("display")=="none"||$("#guide").css("display")==undefined)){if(global.phoneNeedAppPop==1){return}$("#phoneNeedAppPop").show();global.phoneNeedAppPop=1}}function judePhoneNeed(){cef.appStore("judePhoneNeed")}function setPhoneNeed(a){needIframe.window.setPhoneNeed(a)}function cancelInstallNeedApk(){document.getElementById("phoneNeedAppPop").style.display="none";if($("#noPromptAgain").hasClass("noPromptAgainOn")){cef.param="alreadyReadPhoneNeed";cef.appStore("alreadyRead")}}function refreshNeedApk(){$("#needIframe").attr("src","need/need.html")}function initPhoneNeed(){cef.appStore("initPhoneNeed")}function installAllNeedApk(a){if($(a).hasClass("disable")){return}needIframe.window.installAllNeedApk(a);document.getElementById("phoneNeedAppPop").style.display="none"}function updateAppstatus(a){myIframe.window.updateAppstatus(a);needIframe.window.updateAppstatus(a)}function setAppBakcupProcess(a){if(a.finish===true){if(a.failed===0){var b='<div class=prompt_text>备份手机应用完成（<span style="color:#0C7EC5;" id="progressNum">0</span> / <span>'+a.process+"</span>）</div>";$("#prompt_message").html(b)}else{var b='<div class=prompt_text style="color:#0C7EC5;"><div class="refresh promptRefresh"></div>备份手机应用失败（<span style="color:#0C7EC5;" id="progressNum">0</span> / <span>'+a.process+"</span>）</div>";$("#prompt_message").html(b)}$("#prompt_close").show();$("#no").text("完成").show().unbind("click").click(function(){$("#prompt").hide()})}if(a.cancel===true){$("#prompt").hide()}document.getElementById("progressNum").innerHTML=a.process}function openVivostore(){var a=$("#vivoApp");if(!a.hasClass("category-selected")){$(".category-selected").removeClass("category-selected");$(".app_group").hide();a.next().show();showVivoStore();a.addClass("category-selected")}}function myPhoneAdsShow(b){var c=b.split("_");var a=c.length;if(a==1){if(b=="need"){openVivostore();$(".coverScreen").hide();getPhoneNeed()}else{}}else{if(a==2){if(c[0]=="cate"){openVivostore();$(".coverScreen").hide();$("#"+c[1]).mousedown()}else{}}else{}}};