$(document).ready(function(){$.event.props=$.event.props.join("|").replace("layerX|layerY|","").split("|");global.myIframeObj=$("#myIframe");$(".category").hover(function(){if($(this).css("background-position-y")!="-105px"){$(this).css("background-position-y","-35px")}$(this).find(".categoryDown").css("background-position-x","-10px")},function(){if($(this).css("background-position-y")!="-105px"){$(this).css("background-position-y","0px")}$(this).find(".categoryDown").css("background-position-x","0px")}).mousedown(function(){if($(this).css("background-position-y")!="-105px"){$(this).css("background-position-y","-70px")}$(this).find(".categoryDown").css("background-position-x","-20px")}).mouseup(function(){$(this).find(".categoryDown").css("background-position-x","0px");if(!$(this).find(".categoryDown").hasClass("categoryDown")){$(this).find(".categoryDown").removeClass("categoryDown");$(".categoryUp").removeClass("categoryDown");$(".cate_group").hide();$(this).next().show();$(this).find(".categoryUp").addClass("categoryDown")}});$(".category-list").hover(function(){if(!$(this).hasClass("category-list-click")){$(this).addClass("category-list-on")}},function(){if(!$(this).hasClass("category-list-click")){$(this).removeClass("category-list-on")}}).mousedown(function(){var a=$(this);$(".category-list").removeClass("category-list-click");a.removeClass("category-list-on").addClass("category-list-click");$(".category").css("background-position-y","0px");var b=a.attr("id");global.myIframeObj.attr("src","phone/phone.html")});$(".close").hover(function(){$(this).css("background-position-x","-31px")},function(){$(this).css("background-position-x","0px")}).mousedown(function(){$(this).css("background-position-x","-62px")}).mouseup(function(){$(this).css("background-position-x","0px");$("#installAppPop").hide()});$(".submitButton").hover(function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","-28px")},function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","0px")}).mousedown(function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","-56px")}).mouseup(function(){if($(this).hasClass("disable")){return}$(this).css("background-position-y","0px");var a=$(this).text();if(a=="取消"){$("#installAppPop").hide()}else{}});$("#addFloder").hover(function(){$(this).parent().css("background-position-y","-28px")},function(){$(this).parent().css("background-position-y","0px")}).mousedown(function(){$(this).parent().css("background-position-y","-56px")}).mouseup(function(){$(this).parent().css("background-position-y","0px")});$("#addFile").hover(function(){$(this).parent().css("background-position-y","-84px")},function(){$(this).parent().css("background-position-y","0px")}).mousedown(function(){$(this).parent().css("background-position-y","-112px")}).mouseup(function(){$(this).parent().css("background-position-y","0px")});$("#toPhone").hover(function(){$(this).addClass("toPhoneOn")},function(){$(this).removeClass("toPhoneOn")}).click(function(){$(this).removeClass("toPhoneOn");$("#toSD").removeClass("toWhereOn");$(this).addClass("toWhereOn");$("#installList").find(".switch").removeClass("sd").text("手机")});$("#toSD").hover(function(){$(this).addClass("toSDOn")},function(){$(this).removeClass("toSDOn")}).click(function(){$(this).removeClass("toSDOn");$("#toPhone").removeClass("toWhereOn");$(this).addClass("toWhereOn");$("#installList").find(".switch").addClass("sd").text("SD卡")})});document.oncontextmenu=new Function("return false;");var global={myIframeObj:"",cateId:"",cateName:"",count:0,param:"",bAds:false,refreshPage:"home/home.html",appId:"",appName:"",appIconUrl:"",appDev:""};function menuClick(a){var b=a.id;if(b=="installApp"){$("#installAppPop").show()}}function homePage(){global.refreshPage="home/home.html";global.myIframeObj.attr("src",global.refreshPage);global.param="initIndex"}function refresh(){$("#bubble").show();global.myIframeObj.attr("src",global.refreshPage)}function searchApp(a){if(event.keyCode==13){global.param='[{"pageIndex":"0","keyWord":"'+a.value+'"}]';global.cateName=a.value;global.cateId="search";global.myIframeObj.attr("src","category/category.html")}}function changePos(a){if(a.innerText=="手机"){a.innerText="SD卡";a.className="switch sd"}else{a.innerText="手机";a.className="switch"}checkPos()}function removeSel(a){$(a).parent().parent().remove();checkPos()}function checkPos(){var c=$("#installList").find(".sd").length;var b=$("#installList").find(".switch").length;var a=b-c;if(c==0&&b!=0){$("#toSD").removeClass("toWhereOn");$("#toPhone").addClass("toWhereOn")}else{if(b==0){$("#toSD").removeClass("toWhereOn");$("#toPhone").removeClass("toWhereOn")}else{if(c!=b){$("#toSD").removeClass("toWhereOn");$("#toPhone").removeClass("toWhereOn")}else{if(c==b){$("#toPhone").removeClass("toWhereOn");$("#toSD").addClass("toWhereOn")}}}}$("#installPrompt").text("提示：即将安装 "+b+" 个apk，"+a+" 个安装到手机，"+c+" 个安装到SD卡")}function setCategory(a){var e=$("#vivoAppList");e.empty();var d;var c;e.append('<li id="-1"class="category-list">    <div class="listIconBg"><img src="images/cateIcon/home.png" /></div>    <div class="listIconName">商店主页</div>    </li>');if(a!=""&&a!=null){for(var b=0;b<a.length;b++){d=a[b]["titleCN"];if(d.indexOf("社交")>=0){c="shejiao"}else{if(d.indexOf("娱乐")>=0){c="yule"}else{if(d.indexOf("系统")>=0){c="xitong"}else{if(d.indexOf("实用")>=0){c="shiyong"}else{if(d.indexOf("生活")>=0){c="shenghuo"}else{if(d.indexOf("阅读")>=0){c="yuedu"}else{if(d.indexOf("财经")>=0){c="caijing"}else{if(d.indexOf("教育")>=0){c="jiaoyu"}else{if(d.indexOf("壁纸")>=0){c="bizhi"}else{if(d.indexOf("导航")>=0){c="daohang"}else{if(d.indexOf("电子书")>=0){c="dianzishu"}else{if(d.indexOf("游戏")>=0){c="youxi"}else{c="default"}}}}}}}}}}}}e.append('<li id="'+a[b]["id"]+'"class="category-list" sub="'+a[b]["hasSubcate"]+'" count="'+a[b]["count"]+'">            <div class="listIconBg"><img src="images/cateIcon/'+c+'.png" /></div>            <div class="listIconName">'+a[b]["titleCN"]+"</div>            </li>")}addCategoryEvent(e)}}function setRecommend(a){myIframe.window.setRecommend(a);$("#bubble").hide()}function setTop10App(a){myIframe.window.setTop10App(a)}function setWeekTop10App(a){myIframe.window.setWeekTop10App(a)}function setGameTop10App(a){myIframe.window.setGameTop10App(a)}function setAllApp(a){myIframe.window.setAllApp(a);$("#bubble").hide()}function addCategoryEvent(b){b=b.find(".category-list");var a=$(".category-list");b.unbind("mouseup").unbind("hover").hover(function(){if(!$(this).hasClass("category-list-click")){$(this).addClass("category-list-on")}},function(){if(!$(this).hasClass("category-list-click")){$(this).removeClass("category-list-on")}}).mousedown(function(){var d=$(this);if(d.hasClass("category-list-click")){return}a.removeClass("category-list-click");a.removeClass("category-list-on");d.addClass("category-list-click");$(".category").css("background-position-y","0px");changeMainMenu(0);var e=d.attr("id");var c=d.attr("sub");if(e=="-1"){homePage()}else{global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName=d.find(".listIconName").text();global.cateId=d.attr("id");global.count=d.attr("count");global.param='[{"hasSubcate":"'+c+'" ,"categoryId":"'+global.cateId+'" , "pageIndex":"1","type":"0"}]'}});$("#bubble").hide()}function iframeGetCategoryApp(){cef.param=global.param;cef.appStore("getCateApp")}function iframeGetAdsApp(){if(parseInt(global.count,10)>1){cef.param='[{"adsId":"'+global.appId+'" , "size":"24" , "pageIndex":"1","type":"2"}]';cef.appStore("getAdsApp")}else{cef.param=global.appId+"";cef.appStore("getAppDetail")}}function iframeRefresh(){cef.appStore("refresh")}function iframeInitIndex(){cef.appStore("initIndex")}function iframeGetDetail(){cef.param=global.appId+"";cef.appStore("getAppDetail")}function iframeInitIndex(){cef.appStore("initIndex")}function iframeGetRecommend(){cef.param=global.param+"";cef.appStore("getRecommend")}function iframeGetAllApp(){cef.param=global.param;cef.appStore("getAllApp")}function iframeGetSearch(){cef.param=global.param;cef.appStore("getSearchApp")}function setCateApp(a){myIframe.window.setCateApp(a);$("#bubble").hide()}function setAppDetail(a){myIframe.window.setAppDetail(a);$("#bubble").hide()}function setAppDetailTop10(a){myIframe.window.setAppDetailTop10(a)}function setSubCate(a){myIframe.window.setSubCate(a)}function setAds(a){myIframe.window.setAds(a)}function getAppDetail(a){global.appId=a}function getDiscuss(a){cef.param='[{"pageIndex":"'+a+'","appId":"'+global.appId+'"}]';cef.appStore("getDiscuss")}function setDiscuss(a){myIframe.window.setDiscuss(a)}function submitDiscuss(a,b){cef.param='[{"txt":"'+a+'","score":"'+b+'","appId":"'+global.appId+'"}]';cef.appStore("submitDiscuss")}function submitDiscussSuccess(a){myIframe.window.submitDiscussSuccess(a)}function changeMainMenu(a){if(a==0){$("#phoneMenuBar").hide();$("#toolMenuBar").show()}else{$("#phoneMenuBar").show();$("#toolMenuBar").hide()}}function getAllRecommend(b,a){global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="推荐应用";global.cateId="recommend";global.count=a;cef.param=b+"";cef.appStore("getRecommend")}function getAllApp(b,a){global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="所有应用";global.cateId="all";global.count=a;cef.param='[{"pageIndex":"'+b+'","type":"1"}]';cef.appStore("getAllApp")}function getRecommendLink(b,a){global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="推荐应用";global.cateId="recommend";global.count=a;global.param=b+""}function getAllAppLink(b,a){global.refreshPage="category/category.html";global.myIframeObj.attr("src",global.refreshPage);global.cateName="所有应用";global.cateId="all";global.count=a;global.param='[{"pageIndex":"'+b+'","type":"1"}]'}function getArrayAppList(b,a,c){if(a!=0){global.cateId=a;a=0}if(global.cateId=="recommend"){cef.param=c+"";cef.appStore("getRecommend")}else{if(global.cateId=="all"){cef.param='[{"pageIndex":"'+c+'","type":"'+b+'"}]';cef.appStore("getAllApp")}else{if(global.cateId=="search"){cef.param='[{"pageIndex":"'+c+'","keyWord":"'+global.cateName+'"}]';cef.appStore("getSearchApp")}else{if(global.cateId=="ads"){cef.param='[{"adsId":"'+global.appId+'" , "size":"24" , "pageIndex":"'+c+'","type":"2"}]';cef.appStore("getAdsApp")}else{cef.param='[{"hasSubcate":"0" ,"categoryId":"'+global.cateId+'" , "pageIndex":"'+c+'","type":"'+b+'"}]';cef.appStore("getCateApp")}}}}};