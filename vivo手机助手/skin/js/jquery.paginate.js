(function(d){d.fn.paginate=function(g){var h=d.extend({},d.fn.paginate.defaults,g);return this.each(function(){$this=d(this);var j=d.meta?d.extend({},h,$this.data()):h;var i=j.start;d.fn.draw(j,$this,i)})};var f=0;var b=0;var c=navigator.appName;var e=navigator.appVersion;if(e.indexOf("MSIE 7.0")>0){var a="ie7"}else{if(e.indexOf("MSIE 6.0")>0){var a="ie6"}}d.fn.paginate.defaults={count:5,start:12,display:5,border:true,border_color:"#fff",text_color:"#8cc59d",background_color:"black",border_hover_color:"#fff",text_hover_color:"#fff",background_hover_color:"#fff",rotate:true,images:true,mouse:"slide",onChange:function(){return false}};d.fn.draw=function(A,y,p){if(A.display>A.count){A.display=A.count}$this.empty();if(A.images){var w="jPag-sprevious-img";var r="jPag-previous-img";var u="jPag-snext-img";var t="jPag-next-img"}else{var w="jPag-sprevious";var r="jPag-previous";var u="jPag-snext";var t="jPag-next"}var F=d(document.createElement("a")).addClass("jPag-first").html("首页");if(A.rotate){if(A.images){var H=d(document.createElement("span")).addClass(w)}else{var H=d(document.createElement("span")).addClass(w).html("&laquo;")}}var k=d(document.createElement("div")).addClass("jPag-control-back");k.append(F).append(H);var G=d(document.createElement("div")).css("overflow","hidden");var l=d(document.createElement("ul")).addClass("jPag-pages");var E=(A.display-1)/2;var s=p-E;var h;for(var C=0;C<A.count;C++){var I=C+1;if(I==p){var B=d(document.createElement("li")).html('<span class="jPag-current">'+I+"</span>");h=B;l.append(B)}else{var B=d(document.createElement("li")).html("<a>"+I+"</a>");l.append(B)}}G.append(l);if(A.rotate){if(A.images){var z=d(document.createElement("span")).addClass(u)}else{var z=d(document.createElement("span")).addClass(u).html("&raquo;")}}var g=d(document.createElement("a")).addClass("jPag-last").html("尾页");var j=d(document.createElement("div")).addClass("jPag-control-front");j.append(z).append(g);$this.addClass("jPaginate").append(k).append(G).append(j);if(!A.border){if(A.background_color=="none"){var x={color:A.text_color}}else{var x={color:A.text_color,"background-color":A.background_color}}if(A.background_hover_color=="none"){var m={color:A.text_hover_color}}else{var m={color:A.text_hover_color,"background-color":A.background_hover_color}}}else{if(A.background_color=="none"){var x={color:A.text_color,border:"1px solid "+A.border_color}}else{var x={color:A.text_color,"background-color":A.background_color,border:"1px solid "+A.border_color}}if(A.background_hover_color=="none"){var m={color:A.text_hover_color,border:"1px solid "+A.border_hover_color}}else{var m={color:A.text_hover_color,"background-color":A.background_hover_color,border:"1px solid "+A.border_hover_color}}}d.fn.applystyle(A,$this,x,m,F,l,G,j);var n=f-F.parent().width()-3;if(a=="ie7"||a=="ie6"){G.css("width",n+72+"px");j.css("left",f+6+72+"px")}else{G.css("width",n+"px");j.css("left",f+6+"px")}if(A.rotate){z.hover(function(){thumbs_scroll_interval=setInterval(function(){var i=G.scrollLeft()+1;G.scrollLeft(i)},20)},function(){clearInterval(thumbs_scroll_interval)});H.hover(function(){thumbs_scroll_interval=setInterval(function(){var i=G.scrollLeft()-1;G.scrollLeft(i)},20)},function(){clearInterval(thumbs_scroll_interval)});if(A.mouse=="press"){z.mousedown(function(){thumbs_mouse_interval=setInterval(function(){var i=G.scrollLeft()+5;G.scrollLeft(i)},20)}).mouseup(function(){clearInterval(thumbs_mouse_interval)});H.mousedown(function(){thumbs_mouse_interval=setInterval(function(){var i=G.scrollLeft()-5;G.scrollLeft(i)},20)}).mouseup(function(){clearInterval(thumbs_mouse_interval)})}else{H.click(function(J){var i=n-10;var o=G.scrollLeft()-i;G.animate({scrollLeft:o+"px"})});z.click(function(J){var i=n-10;var o=G.scrollLeft()+i;G.animate({scrollLeft:o+"px"})})}}F.click(function(i){G.animate({scrollLeft:"0px"});G.find("li").eq(0).click()});g.click(function(i){G.animate({scrollLeft:b+"px"});G.find("li").eq(A.count-1).click()});G.find("li").click(function(K){h.html("<a>"+h.find(".jPag-current").html()+"</a>");var L=d(this).find("a").html();d(this).html('<span class="jPag-current">'+L+"</span>");h=d(this);d.fn.applystyle(A,d(this).parent().parent().parent(),x,m,F,l,G,j);var J=(this.offsetLeft)/2;var o=G.scrollLeft()+J;var i=J-(n/2);if(a=="ie7"||a=="ie6"){G.animate({scrollLeft:J+i-F.parent().width()+52+"px"})}else{G.animate({scrollLeft:J+i-F.parent().width()+"px"})}A.onChange(L)});var v=G.find("li").eq(A.start-1);v.attr("id","tmp");var q=document.getElementById("tmp").offsetLeft/2;v.removeAttr("id");var D=q-(n/2);if(a=="ie7"||a=="ie6"){G.animate({scrollLeft:q+D-F.parent().width()+52+"px"})}else{G.animate({scrollLeft:q+D-F.parent().width()+"px"})}};d.fn.applystyle=function(n,k,i,j,h,m,l,g){k.find("a").css(i);k.find("span.jPag-current").css(j);k.find("a").hover(function(){d(this).css(j)},function(){d(this).css(i)});k.css("padding-left",h.parent().width()+5+"px");b=0;k.find("li").each(function(o,p){if(o==(n.display-1)){f=this.offsetLeft+this.offsetWidth}b+=this.offsetWidth});m.css("width",b+"px")}})(jQuery);